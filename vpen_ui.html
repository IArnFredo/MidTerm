<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPen Math Learning System</title>
    <style>
        :root {
            --primary: #4285F4;
            --primary-dark: #3367D6;
            --secondary: #34A853;
            --accent: #FBBC05;
            --danger: #EA4335;
            --light: #F8F9FA;
            --dark: #202124;
            --gray: #5F6368;
            --gray-light: #DFE1E5;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            color: var(--dark);
            background-color: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background-color: var(--primary);
            color: white;
            padding: 15px 0;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .logo svg {
            margin-right: 10px;
        }

        .user-info {
            display: flex;
            align-items: center;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-left: 10px;
        }

        nav {
            background-color: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .nav-tabs {
            display: flex;
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow-x: auto;
        }

        .nav-tab {
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }

        .nav-tab.active {
            border-bottom: 3px solid var(--primary);
            color: var(--primary);
            font-weight: bold;
        }

        .nav-tab:hover:not(.active) {
            background-color: var(--light);
            border-bottom: 3px solid var(--gray-light);
        }

        .tab-content {
            display: none;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            margin-top: 20px;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            padding: 20px;
            margin-bottom: 20px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--gray-light);
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin: 0;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background-color: #2d9249;
        }

        .btn-accent {
            background-color: var(--accent);
            color: var(--dark);
        }

        .btn-accent:hover {
            background-color: #e3a800;
        }

        .text-area {
            width: 100%;
            padding: 15px;
            border: 1px solid var(--gray-light);
            border-radius: 4px;
            min-height: 150px;
            box-sizing: border-box;
            font-family: inherit;
            margin-bottom: 15px;
            resize: vertical;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .feature-card {
            cursor: pointer;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            background-color: var(--light);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .feature-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .input-field {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--gray-light);
            border-radius: 4px;
            box-sizing: border-box;
        }

        .tag {
            display: inline-block;
            padding: 4px 8px;
            background-color: var(--light);
            border-radius: 4px;
            margin-right: 5px;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--gray-light);
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: bold;
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }

        .close-modal:hover {
            color: var(--danger);
        }

        .hint-box {
            background-color: #E8F0FE;
            border-left: 4px solid var(--primary);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .badge-success {
            background-color: #E6F4EA;
            color: var(--secondary);
        }

        .badge-warning {
            background-color: #FEF7E0;
            color: #F9AB00;
        }

        .notification-dot {
            width: 8px;
            height: 8px;
            background-color: var(--danger);
            border-radius: 50%;
            display: inline-block;
            margin-left: 5px;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background-color: var(--gray-light);
            border-radius: 4px;
            margin: 10px 0;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--secondary);
            border-radius: 4px;
            transition: width 0.3s;
        }

        /* Specific module styles */
        .module-annotation .annotation-container {
            border: 1px solid var(--gray-light);
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .module-annotation .annotation-text {
            padding: 15px;
            background-color: #FFFDE7;
            border-left: 3px solid var(--accent);
            margin: 10px 0;
        }

        .annotation-prompt {
            margin-bottom: 10px;
            font-weight: 500;
        }

        .module-homework .step {
            padding: 10px;
            border-left: 3px solid var(--primary);
            margin-bottom: 10px;
            background-color: var(--light);
        }

        .module-homework .step-feedback {
            padding: 10px;
            border-left: 3px solid var(--secondary);
            margin-left: 20px;
            margin-bottom: 10px;
            background-color: #E6F4EA;
        }

        .module-review .review-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid var(--gray-light);
        }

        .module-review .review-item:last-child {
            border-bottom: none;
        }

        .module-review .review-item-icon {
            margin-right: 15px;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>

<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="12" y1="18" x2="12" y2="12"></line>
                    <line x1="9" y1="15" x2="15" y2="15"></line>
                </svg>
                VPen Math Learning
            </div>
            <div class="user-info">
                <span>Student Name</span>
                <div class="avatar">S</div>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-tabs">
                <li class="nav-tab active" data-tab="dashboard" onclick="switchTab('dashboard')">Dashboard</li>
                <li class="nav-tab" data-tab="annotation" onclick="switchTab('annotation')">Annotation Module</li>
                <li class="nav-tab" data-tab="homework" onclick="switchTab('homework')">Homework Module</li>
                <li class="nav-tab" data-tab="review" onclick="switchTab('review')">Review Module</li>
                <li class="nav-tab" data-tab="progress" onclick="switchTab('progress')">Progress Tracking</li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content active">
            <h2>Welcome to VPen Math Learning</h2>
            <p>Select a module to begin your learning journey.</p>

            <div class="grid">
                <div class="card feature-card" onclick="switchTab('annotation')">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="12" y1="18" x2="12" y2="12"></line>
                            <line x1="9" y1="15" x2="15" y2="15"></line>
                        </svg>
                    </div>
                    <div class="feature-title">Annotation Module</div>
                    <p>Make meaningful annotations to deepen your understanding.</p>
                </div>

                <div class="card feature-card" onclick="switchTab('homework')">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="var(--secondary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 3v18h18"></path>
                            <path d="M3 12h18"></path>
                            <path d="M12 3v18"></path>
                        </svg>
                    </div>
                    <div class="feature-title">Homework Module</div>
                    <p>Solve problems with step-by-step guidance and feedback.</p>
                </div>

                <div class="card feature-card" onclick="switchTab('review')">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                    <div class="feature-title">Review Module</div>
                    <p>Track and optimize your review sessions for better retention.</p>
                </div>

                <div class="card feature-card" onclick="switchTab('progress')">
                    <div class="feature-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="var(--danger)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 20V10"></path>
                            <path d="M12 20V4"></path>
                            <path d="M6 20v-6"></path>
                        </svg>
                    </div>
                    <div class="feature-title">Progress Tracking</div>
                    <p>Monitor your learning journey and identify areas for improvement.</p>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Recent Activity</h3>
                </div>
                <div class="review-item">
                    <div class="review-item-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="var(--secondary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                        </svg>
                    </div>
                    <div>
                        <div><strong>Completed homework on Quadratic Equations</strong></div>
                        <div class="text-muted">2 hours ago</div>
                    </div>
                </div>
                <div class="review-item">
                    <div class="review-item-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="var(--primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                    <div>
                        <div><strong>Reviewed annotations on Linear Functions</strong></div>
                        <div class="text-muted">Yesterday</div>
                    </div>
                </div>
                <div class="review-item">
                    <div class="review-item-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                    </div>
                    <div>
                        <div><strong>Created a challenge problem on Derivatives</strong></div>
                        <div class="text-muted">2 days ago</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Tracking Tab -->
        <div id="progress" class="tab-content">
            <h2>Progress Tracking</h2>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Learning Achievement</h3>
                </div>

                <div class="annotation-container">
                    <h4>Overall Progress</h4>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: 65%;"></div>
                    </div>
                    <p>You've completed 65% of the Algebra curriculum</p>

                    <h4>Topic Mastery</h4>
                    <div class="review-item">
                        <div>Linear Functions</div>
                        <div style="flex-grow: 1; margin: 0 20px;">
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 90%;"></div>
                            </div>
                        </div>
                        <div>90%</div>
                    </div>

                    <div class="review-item">
                        <div>Quadratic Equations</div>
                        <div style="flex-grow: 1; margin: 0 20px;">
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 75%;"></div>
                            </div>
                        </div>
                        <div>75%</div>
                    </div>

                    <div class="review-item">
                        <div>Trigonometry</div>
                        <div style="flex-grow: 1; margin: 0 20px;">
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 60%;"></div>
                            </div>
                        </div>
                        <div>60%</div>
                    </div>

                    <div class="review-item">
                        <div>Calculus</div>
                        <div style="flex-grow: 1; margin: 0 20px;">
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 40%;"></div>
                            </div>
                        </div>
                        <div>40%</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Learning Habits Analysis</h3>
                </div>

                <div class="annotation-container">
                    <h4>Weekly Activity</h4>

                    <div class="review-item">
                        <div>Annotations Created</div>
                        <div>18</div>
                    </div>

                    <div class="review-item">
                        <div>Homework Problems Solved</div>
                        <div>12</div>
                    </div>

                    <div class="review-item">
                        <div>Review Sessions</div>
                        <div>7</div>
                    </div>

                    <div class="review-item">
                        <div>Peer Challenges Attempted</div>
                        <div>3</div>
                    </div>

                    <div class="hint-box">
                        <strong>Recommendation:</strong> Increasing your review frequency could help improve retention
                        in Calculus topics.
                    </div>
                </div>
            </div>
        </div>

        <!-- Annotation Module Tab -->
        <div id="annotation" class="tab-content module-annotation">
            <h2>Annotation Module</h2>

            <!-- 1. Topic Synthesizer -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Topic Synthesizer <span class="badge badge-success">Self-Initiated</span>
                    </h3>
                    <button class="btn btn-primary" onclick="showModal('topic-synthesizer-modal')">Generate
                        Summary</button>
                </div>
                <div class="annotation-container">
                    <p>Let AI quickly distill the core concepts and key points of this topic:</p>
                    <!-- summary output will be injected here -->
                    <div id="topic-summary" class="hint-box" style="display:none;"></div>
                </div>
            </div>

            <!-- Modal for Topic Synthesizer -->
            <div id="topic-synthesizer-modal" class="modal" onclick="hideModal('topic-synthesizer-modal')">
                <div class="modal-content" onclick="event.stopPropagation()">
                    <div class="modal-header">
                        <h4 class="modal-title">Generate Topic Summary</h4>
                        <button class="close-modal" onclick="hideModal('topic-synthesizer-modal')">&times;</button>
                    </div>
                    <p>Analyze the current topic and produce 3–5 key points.</p>
                    <button class="btn btn-primary" onclick="generateTopicSummary()">Run AI</button>
                </div>
            </div>

            <!-- 2. Text Annotations Guider -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Text Annotations Guider <span class="badge badge-warning">Structured</span>
                    </h3>
                </div>
                <div class="annotation-container">
                    <p>Use the prompts below to craft a meaningful annotation:</p>
                    <div class="input-group">
                        <div class="annotation-prompt">What does this mean?</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <div class="input-group">
                        <div class="annotation-prompt">Why is this important?</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <div class="input-group">
                        <div class="annotation-prompt">How can I apply this?</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <button class="btn btn-primary">Save Structured Annotation</button>
                </div>
            </div>

            <!-- 3. Explain Like I’m 5 Tool -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Explain Like I’m 5 <span class="badge badge-warning">AI-Assisted</span></h3>
                    <button class="btn btn-accent" onclick="showModal('eli5-modal')">Explain</button>
                </div>
                <div class="annotation-container">
                    <p>Select any annotation or text section, then click “Explain” to see a simplified version below:
                    </p>
                    <div id="eli5-output" class="annotation-text" style="display:none;"></div>
                </div>
            </div>

            <!-- Modal for ELI5 -->
            <div id="eli5-modal" class="modal" onclick="hideModal('eli5-modal')">
                <div class="modal-content" onclick="event.stopPropagation()">
                    <div class="modal-header">
                        <h4 class="modal-title">Explain Like I’m 5</h4>
                        <button class="close-modal" onclick="hideModal('eli5-modal')">&times;</button>
                    </div>
                    <p>Generate a simple, analogy-rich explanation for the selected text.</p>
                    <button class="btn btn-primary" onclick="generateELI5()">Run AI</button>
                </div>
            </div>

            <!-- 4. SQCP-Based Annotator -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">SQCP Annotator <span class="badge badge-success">Self-Initiated</span></h3>
                </div>
                <div class="annotation-container">
                    <div class="input-group">
                        <div class="annotation-prompt">S: Summarize</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <div class="input-group">
                        <div class="annotation-prompt">Q: Questions</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <div class="input-group">
                        <div class="annotation-prompt">C: Clarify</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <div class="input-group">
                        <div class="annotation-prompt">P: Predict</div>
                        <textarea class="text-area"></textarea>
                    </div>
                    <button class="btn btn-primary">Save SQCP Annotation</button>
                </div>
            </div>

            <!-- 5. Group Annotations with Discussions Tool -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Group Annotations & Discussions <span
                            class="badge badge-success">Self-Initiated</span></h3>
                    <button class="btn btn-primary" onclick="showModal('group-annotations-modal')">Start
                        Discussion</button>
                </div>
                <div class="annotation-container">
                    <h4>Active Discussion Threads</h4>
                    <!-- Example thread -->
                    <div class="review-item">
                        <div class="review-item-icon">
                            <!-- SVG icon -->
                        </div>
                        <div>
                            <div><strong>Best way to factor x²+5x+6</strong></div>
                            <div class="text-muted">4 comments · 2 votes</div>
                        </div>
                        <button class="btn btn-secondary">Join</button>
                    </div>
                </div>
            </div>

            <!-- Modal for Group Annotations -->
            <div id="group-annotations-modal" class="modal" onclick="hideModal('group-annotations-modal')">
                <div class="modal-content" onclick="event.stopPropagation()">
                    <div class="modal-header">
                        <h4 class="modal-title">New Group Annotation</h4>
                        <button class="close-modal" onclick="hideModal('group-annotations-modal')">&times;</button>
                    </div>
                    <p>Start a collaborative discussion—add your annotation and invite peers to comment.</p>
                    <textarea class="text-area" placeholder="Your opening annotation..."></textarea>
                    <button class="btn btn-primary">Create Thread</button>
                </div>
            </div>
        </div>

        <!-- Homework Module Tab -->
        <div id="homework" class="tab-content module-homework">
            <h2>Homework Module</h2>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Current Assignment: Quadratic Equations</h3>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Process Evaluator <span class="badge badge-warning">AI-Assisted</span>
                        </h3>
                    </div>
                    <div class="annotation-container">
                        <h4>Your Step-by-Step Solution</h4>
                        <textarea class="text-area" placeholder="Write each step of your solution here..."></textarea>
                        <button class="btn btn-primary">Submit for AI Evaluation</button>

                        <div class="hint-box" style="margin-top: 15px;">
                            <strong>AI Feedback:</strong> Your substitution step skipped verifying the domain
                            assumption. Try revisiting your case setup.
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Dynamic Reflection Prompts <span
                                class="badge badge-warning">AI-Assisted</span></h3>
                    </div>
                    <div class="annotation-container">
                        <p>These prompts are generated based on the problem you are solving:</p>
                        <div class="step-feedback">
                            <strong>Why did you choose this method?</strong>
                            <textarea class="text-area" placeholder="Reflect on your reasoning..."></textarea>
                        </div>
                        <div class="step-feedback">
                            <strong>What assumptions are you making?</strong>
                            <textarea class="text-area" placeholder="List or question your assumptions..."></textarea>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">"What If?" Scenario Generator <span
                                class="badge badge-warning">AI-Assisted</span></h3>
                        <button class="btn btn-accent" onclick="showModal('what-if-modal')">Explore Variations</button>
                    </div>
                    <div class="annotation-container">
                        <div class="hint-box">
                            <strong>Scenario:</strong> What if the equation had three variables instead of two?
                        </div>
                        <textarea class="text-area" placeholder="Explore how you'd adapt your approach..."></textarea>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">View High-Achiever Solutions <span class="badge badge-success">Smart
                                Suggestion</span></h3>
                        <button class="btn btn-secondary">View Similar Students’ Solutions</button>
                    </div>
                    <div class="annotation-container">
                        <p>AI identified these submissions as high-quality based on clarity and correctness:</p>
                        <div class="review-item">
                            <div><strong>Efficient Completion of the Square</strong></div>
                            <div class="text-muted">By: Jamie L. · Recommended for similar learners</div>
                            <button class="btn btn-secondary">View Solution</button>
                        </div>
                    </div>
                </div>

                <div class="annotation-container">
                    <h4>Problem 1: Solve x² - 7x + 12 = 0</h4>

                    <div class="step">
                        <strong>Step 1:</strong> I'll identify the coefficients: a = 1, b = -7, c = 12
                    </div>

                    <div class="step-feedback">
                        <strong>Feedback:</strong> Correct identification of coefficients!
                    </div>

                    <div class="step">
                        <strong>Step 2:</strong> I'll try to factor: x² - 7x + 12 = (x - 3)(x - 4)
                    </div>

                    <div class="step-feedback">
                        <strong>Feedback:</strong> Good factoring! To verify: multiply (x - 3)(x - 4) = x² - 4x - 3x +
                        12 = x² - 7x + 12
                    </div>

                    <div class="step">
                        <strong>Step 3:</strong> Setting each factor equal to zero: x - 3 = 0 or x - 4 = 0
                    </div>

                    <div class="step">
                        <strong>Step 4:</strong> Therefore, x = 3 or x = 4
                    </div>

                    <div class="hint-box">
                        <button class="btn btn-accent" onclick="showModal('reflection-modal')">Dynamic Reflection
                            Questions</button>
                        <button class="btn btn-primary" onclick="showModal('what-if-modal')">What If? Scenarios</button>
                    </div>
                </div>

                <div class="annotation-container">
                    <h4>Problem 2: Solve 2x² + 5x - 3 = 0</h4>

                    <textarea class="text-area" placeholder="Enter your solution step by step..."></textarea>

                    <button class="btn btn-primary">Submit for Process Evaluation</button>
                    <button class="btn btn-secondary">View Similar Solutions</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Featured Problem Solutions</h3>
                </div>

                <div class="annotation-container">
                    <div class="badge badge-success">Most Innovative</div>
                    <h4>Solving x² - 10x + 25 = 0 using Completing the Square</h4>
                    <p>By: Alex T.</p>
                    <button class="btn btn-secondary">View Solution</button>
                </div>

                <div class="annotation-container">
                    <div class="badge badge-success">Most Efficient</div>
                    <h4>Alternative approach to the Quadratic Formula</h4>
                    <p>By: Jamie L.</p>
                    <button class="btn btn-secondary">View Solution</button>
                </div>
            </div>
        </div>

        <!-- Review Module Tab -->
        <div id="review" class="tab-content module-review">
            <h2>Review Module</h2>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Recommended Reviews</h3>
                    <button class="btn btn-secondary">View All Reviews</button>
                </div>

                <div class="review-item">
                    <div class="review-item-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="var(--danger)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                    </div>
                    <div style="flex-grow: 1;">
                        <div><strong>Linear Functions</strong> <span class="notification-dot"></span></div>
                        <div class="text-muted">Last reviewed 5 days ago</div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 30%;"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary">Review Now</button>
                </div>
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Knowledge Retention Gap Tracker</h3>
                    </div>

                    <div class="annotation-container">
                        <h4>Knowledge Gap Analysis</h4>
                        <p>Based on your recent quiz performance, we've identified some areas that need reinforcement:
                        </p>

                        <div class="tag">Discriminant Formula</div>
                        <div class="tag">Complex Roots</div>
                        <div class="tag">Completing the Square</div>

                        <div class="hint-box">
                            <strong>Recommendation:</strong> Focus on reviewing the relationship between discriminant
                            values
                            and the types of roots in quadratic equations.
                        </div>

                        <button class="btn btn-primary">Generate Targeted Review</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Peer-Challenge Generator</h3>
                        <button class="btn btn-primary" onclick="showModal('peer-challenge-modal')">Create
                            Challenge</button>
                    </div>

                    <div class="annotation-container">
                        <h4>Active Challenges</h4>

                        <div class="review-item">
                            <div class="review-item-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="var(--secondary)" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                </svg>
                            </div>
                            <div>
                                <div><strong>Quadratic equation with specific properties</strong></div>
                                <div class="text-muted">Created by: Jordan P. · 8 solutions submitted</div>
                            </div>
                            <button class="btn btn-secondary">Solve</button>
                        </div>

                        <div class="review-item">
                            <div class="review-item-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="var(--secondary)" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                </svg>
                            </div>
                            <div>
                                <div><strong>Find the quadratic from given roots</strong></div>
                                <div class="text-muted">Created by: Taylor M. · 12 solutions submitted</div>
                            </div>
                            <button class="btn btn-secondary">Solve</button>
                        </div>
                    </div>
                </div>

                <div class="review-item">
                    <div class="review-item-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                    <div style="flex-grow: 1;">
                        <div><strong>Trigonometric Functions</strong></div>
                        <div class="text-muted">Last reviewed 3 days ago</div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 65%;"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary">Review Now</button>
                </div>

                <div class="review-item">
                    <div class="review-item-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="var(--secondary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </div>
                    <div style="flex-grow: 1;">
                        <div><strong>Calculus: Derivatives</strong></div>
                        <div class="text-muted">Last reviewed 7 days ago</div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 20%;"></div>
                        </div>
                    </div>
                    <button class="btn btn-primary">Review Now</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Template -->
    <div id="peer-challenge-modal" class="modal" onclick="hideModal('peer-challenge-modal')">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h4 class="modal-title">Create a Peer Challenge</h4>
                <button class="close-modal" onclick="hideModal('peer-challenge-modal')">&times;</button>
            </div>
            <div>
                <label class="input-label">Challenge Prompt</label>
                <textarea class="text-area" placeholder="Enter your math challenge..."></textarea>
                <button class="btn btn-primary">Submit Challenge</button>
            </div>
        </div>
    </div>

    <!-- JavaScript for interactivity -->
    <script>
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabId).classList.add('active');

            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`.nav-tab[data-tab="${tabId}"]`).classList.add('active');
        }

        function showModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }

        function hideModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Optional: close modals on ESC key
        document.addEventListener('keydown', function (e) {
            if (e.key === "Escape") {
                document.querySelectorAll('.modal').forEach(modal => modal.style.display = 'none');
            }
        });
    </script>
</body>

</html>
